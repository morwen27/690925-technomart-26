var mapLink=document.querySelector(".link-map");var map=document.querySelector(".modal-map");var closeMap=map.querySelector(".close-button");mapLink.addEventListener("click",function(evt){evt.preventDefault();map.classList.add("map-show")});closeMap.addEventListener("click",function(evt){evt.preventDefault();map.classList.remove("map-show")});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){evt.preventDefault();if(map.classList.contains("map-show")){map.classList.remove("map-show")}}});var feedbackLink=document.querySelector(".modal-button");var feedbackForm=document.querySelector(".feedback-form");var closeFeedbackForm=feedbackForm.querySelector(".close-button");var userName=feedbackForm.querySelector("[name=name]");var userMail=feedbackForm.querySelector("[name=mail]");var feedbackMessage=feedbackForm.querySelector("[name=message]");var form=feedbackForm.querySelector(".feedback-form > form");var deleteClassError=function(){feedbackForm.classList.remove("feedback-form-error")};var isStorageSupport=true;var storageName="";var storageEmail="";try{storageName=localStorage.getItem("userName");storageEmail=localStorage.getItem("userMail")}catch(err){isStorageSupport=false}feedbackLink.addEventListener("click",function(evt){evt.preventDefault();feedbackForm.classList.add("feedback-form-show");userName.focus();if(storageName){userName.value=storageName;userMail.focus();if(storageEmail){userMail.value=storageEmail;feedbackMessage.focus()}else{userName.focus()}}});form.addEventListener("submit",function(evt){if(!userName.value||!userMail.value||!feedbackMessage.value){evt.preventDefault();feedbackForm.classList.remove("feedback-form-error");feedbackForm.offsetWidth=feedbackForm.offsetWidth;feedbackForm.classList.add("feedback-form-error")}else{if(isStorageSupport){localStorage.setItem("userName",userName.value);localStorage.setItem("userMail",userMail.value)}}});closeFeedbackForm.addEventListener("click",function(evt){evt.preventDefault();feedbackForm.classList.remove("feedback-form-show");feedbackForm.classList.remove("feedback-form-error")});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){if(feedbackForm.classList.contains("feedback-form-show")){evt.preventDefault();feedbackForm.classList.remove("feedback-form-show");feedbackForm.classList.remove("feedback-form-error")}}});var buyLink=document.querySelector(".to-cart");var modalToCart=document.querySelector(".modal-to-cart");var closeModalToCart=modalToCart.querySelector(".close-button");var linkContinue=modalToCart.querySelector(".—Åontinue-shopping");var order=modalToCart.querySelector(".to-order");buyLink.addEventListener("click",function(evt){evt.preventDefault();modalToCart.classList.add("modal-to-cart-show")});closeModalToCart.addEventListener("click",function(evt){evt.preventDefault();modalToCart.classList.remove("modal-to-cart-show")});linkContinue.addEventListener("click",function(evt){evt.preventDefault();modalToCart.classList.remove("modal-to-cart-show")});order.addEventListener("click",function(evt){evt.preventDefault();modalToCart.classList.remove("modal-to-cart-show")});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){evt.preventDefault();if(modalToCart.classList.contains("modal-to-cart-show")){modalToCart.classList.remove("modal-to-cart-show")}}});